# frozen_string_literal: true

json ||= {}

if value.present?
  key_new = attribute_key(key, definition)

  if options[:languages].include?('de')
    if options[:expand_language]
      data = [{
        '@language' => locale.to_s,
        '@value' => value
      }]
    else
      data = value
    end

    json = { key_new => data }
  end
end

json
