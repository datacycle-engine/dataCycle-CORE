<% random_id = SecureRandom.hex(10) %>

<% request_params = "?" + param_hash_to_param_string(request_params_hash) %>

<a data-toggle="<%= random_id %>"><i class="fa fa-eye" aria-hidden="true"></i></a>
<div class="dropdown-pane no-bullet bottom" id="<%= random_id %>" data-dropdown>

  <h5><%= t('common.preview_links', locale: active_ui_locale) %></h5>

<ul class="list-items">
  <% content.try(:output_channel).to_a.each do |channel| %>
    <%
      uri = channel.uri ||DataCycleCore::ClassificationAlias.find_by_internal_name(channel.name).present? ? DataCycleCore::ClassificationAlias.find_by_internal_name(channel.name).uri : nil
    %>
    <% if uri.present? %>
      <li class="active">
        <%= link_to channel.name,
                    uri+request_params,
                    data: { dc_tooltip: uri+request_params } %>

        <span class="buttons">
            <%= link_to tag.i(class: 'fa fa-share', aria_hidden: true),
                        uri+request_params,
                        data: { dc_tooltip: uri+request_params } %>
        </span>
      </li>
      <% end %>
  <% end %>
</ul>
</div>
