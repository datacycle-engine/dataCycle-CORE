<%= render 'data_cycle_core/contents/editors/attribute', key: key, definition: definition, value: value, options: options.merge({ 'class' => Array.wrap(options['class']).push('dc-checkbox').compact_blank.join(' ') }), content: content, parent: local_assigns[:parent] do %>
  <% value ||= false %>

  <%= hidden_field_tag key, value, id: "#{local_assigns.dig(:options, :prefix)}#{sanitize_to_id(key)}" unless attribute_editable?(key, definition, options, content) %>

  <%= check_box nil,
    key,
    {
      id: "#{local_assigns.dig(:options, :prefix)}#{sanitize_to_id(key)}",
      checked: value,
      disabled: !attribute_editable?(key, definition, options, content)
    },
    'true',
    'false' %>

  <%= attribute_edit_label_tag(**local_assigns) %>
<% end %>
