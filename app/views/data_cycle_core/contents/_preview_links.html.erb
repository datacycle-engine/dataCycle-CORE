<% if DataCycleCore::Feature::PreviewLink.allowed?(content) %>
  <span class="translatable-attribute-container viewer">
    <%= tag.span(
          render('data_cycle_core/contents/preview_link', content:, locale: I18n.locale),
          class: "translatable-attribute preview-link active #{I18n.locale}",
        ) %>

    <% content&.translated_locales&.except(I18n.locale)&.each do |a_locale| %>
      <%= tag.span(
            class: "translatable-attribute preview-link remote-render #{a_locale}",
            data: {
              remote_path: "data_cycle_core/contents/preview_link",
              remote_options: to_query_params(content:, locale: a_locale).to_json
            }
        ) %>
    <% end %>
  </span>
<% end %>
